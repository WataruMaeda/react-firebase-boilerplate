{"ast":null,"code":"import _defineProperty from \"/Users/wmaeda/Documents/me/Web/react-firebase-boilerplate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/wmaeda/Documents/me/Web/react-firebase-boilerplate/src/scenes/auth/Signup/Signup.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport Input from '../../../components/Input';\nimport { styler, colors } from '../../../theme';\nimport { Button } from '../../../components/Button';\nimport Error from '../../../components/Error';\nimport { path } from '../../../utils/const';\nimport { validate, tests } from '../../../utils/vali';\nimport Connector from '../../../utils/connector';\nconst styles = styler({\n  root: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    background: colors.lightGray\n  },\n  contents: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '80%'\n  },\n  title: {\n    color: colors.blue,\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 60\n  },\n  btn: {\n    height: 50,\n    width: '45%',\n    fontSize: 16,\n    fontWeight: 'bold',\n    borderRadius: '5px !important',\n    marginTop: 20,\n    '&::before': {\n      borderRadius: 5\n    },\n    '&:hover::before': {\n      borderRadius: 5\n    }\n  },\n  footer: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginTop: 60\n  }\n});\n\nclass Signup extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      password: '',\n      user: {},\n      errors: {},\n      resErr: null,\n      isLoading: false\n    };\n\n    this.onSignup = async () => {\n      // validation\n      const _validate = validate(this.state, tests),\n            isError = _validate.isError,\n            errors = _validate.errors;\n\n      this.setState({\n        errors\n      });\n      if (isError) return; // params\n\n      const actions = this.props.actions;\n      const _this$state = this.state,\n            email = _this$state.email,\n            password = _this$state.password,\n            isLoading = _this$state.isLoading;\n      if (isLoading) return; // create account\n\n      this.setState({\n        isLoading: true\n      });\n      actions.signup(email, password).then(() => {\n        const history = this.props.history;\n        this.setState({\n          isLoading: false\n        });\n        history.push({\n          pathname: path.auth.confirmEmail,\n          state: {\n            email\n          }\n        });\n      }).catch(err => {\n        this.setState({\n          isLoading: false,\n          resErr: err.message\n        });\n      });\n    };\n\n    this.handleInputChange = ({\n      target\n    }) => {\n      const name = target.name,\n            value = target.value;\n      const errors = this.state.errors;\n      this.setState({\n        [name]: value,\n        errors: _objectSpread({}, errors, {\n          [name]: ''\n        })\n      });\n    };\n  }\n\n  render() {\n    const history = this.props.history;\n    const _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          errors = _this$state2.errors,\n          resErr = _this$state2.resErr,\n          isLoading = _this$state2.isLoading;\n    return React.createElement(\"div\", {\n      className: styles.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Error, {\n      message: resErr,\n      onClose: () => {\n        this.setState({\n          resErr: null\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: styles.contents,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: styles.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Signup\"), React.createElement(Input, {\n      type: \"email\",\n      name: \"email\",\n      value: email,\n      label: \"Email\",\n      placeholder: \"email@example.com\",\n      onChange: this.handleInputChange,\n      error: errors.email,\n      disabled: isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      label: \"Password\",\n      value: password,\n      placeholder: \"Your password is case sensitive\",\n      onChange: this.handleInputChange,\n      error: errors.password,\n      disabled: isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: styles.footer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Button, {\n      label: \"Signup\",\n      className: \"btn-yellow-gradation \".concat(styles.btn),\n      onClick: this.onSignup,\n      isLoading: isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(Button, {\n      label: \"Login\",\n      className: \"btn-orange-outline \".concat(styles.btn),\n      onClick: () => history.push('/login'),\n      isLoading: isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst ConnectedSignup = props => React.createElement(Connector, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 150\n  },\n  __self: this\n}, ({\n  actions\n}) => React.createElement(Signup, Object.assign({\n  actions: actions.app\n}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 153\n  },\n  __self: this\n})));\n\nSignup.propTypes = {};\nSignup.defaultProps = {};\nexport default ConnectedSignup;","map":{"version":3,"sources":["/Users/wmaeda/Documents/me/Web/react-firebase-boilerplate/src/scenes/auth/Signup/Signup.js"],"names":["React","Component","Input","styler","colors","Button","Error","path","validate","tests","Connector","styles","root","flex","display","flexDirection","justifyContent","alignItems","background","lightGray","contents","width","title","color","blue","fontSize","fontWeight","marginBottom","btn","height","borderRadius","marginTop","footer","Signup","state","email","password","user","errors","resErr","isLoading","onSignup","isError","setState","actions","props","signup","then","history","push","pathname","auth","confirmEmail","catch","err","message","handleInputChange","target","name","value","render","ConnectedSignup","app","propTypes","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Input from '../../../components/Input'\nimport { styler, colors } from '../../../theme'\nimport { Button } from '../../../components/Button'\nimport Error from '../../../components/Error'\nimport { path } from '../../../utils/const'\nimport { validate, tests } from '../../../utils/vali'\nimport Connector from '../../../utils/connector'\n\nconst styles = styler({\n  root: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    background: colors.lightGray,\n  },\n  contents: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '80%',\n  },\n  title: {\n    color: colors.blue,\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 60,\n  },\n  btn: {\n    height: 50,\n    width: '45%',\n    fontSize: 16,\n    fontWeight: 'bold',\n    borderRadius: '5px !important',\n    marginTop: 20,\n    '&::before': {\n      borderRadius: 5,\n    },\n    '&:hover::before': {\n      borderRadius: 5,\n    },\n  },\n  footer: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginTop: 60,\n  },\n})\n\nclass Signup extends Component {\n  state = {\n    email: '',\n    password: '',\n    user: {},\n    errors: {},\n    resErr: null,\n    isLoading: false,\n  }\n\n  onSignup = async () => {\n    // validation\n    const { isError, errors } = validate(this.state, tests)\n    this.setState({ errors })\n    if (isError) return\n\n    // params\n    const { actions } = this.props\n    const { email, password, isLoading } = this.state\n    if (isLoading) return\n\n    // create account\n    this.setState({ isLoading: true })\n    actions.signup(email, password).then(() => {\n      const { history } = this.props\n      this.setState({ isLoading: false })\n      history.push({ pathname: path.auth.confirmEmail, state: { email } })\n    }).catch((err) => {\n      this.setState({ isLoading: false, resErr: err.message })\n    })\n  }\n\n  handleInputChange = ({ target }) => {\n    const { name, value } = target\n    const { errors } = this.state\n\n    this.setState({\n      [name]: value,\n      errors: {\n        ...errors,\n        [name]: '',\n      },\n    })\n  }\n\n  render() {\n    const { history } = this.props\n    const { email, password, errors, resErr, isLoading } = this.state\n    return (\n      <div className={styles.root}>\n        <Error\n          message={resErr}\n          onClose={() => {\n            this.setState({ resErr: null })\n          }}\n        />\n        <div className={styles.contents}>\n          <h3 className={styles.title}>Signup</h3>\n          <Input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            label=\"Email\"\n            placeholder=\"email@example.com\"\n            onChange={this.handleInputChange}\n            error={errors.email}\n            disabled={isLoading}\n          />\n          <Input\n            type=\"password\"\n            name=\"password\"\n            label=\"Password\"\n            value={password}\n            placeholder=\"Your password is case sensitive\"\n            onChange={this.handleInputChange}\n            error={errors.password}\n            disabled={isLoading}\n          />\n          <div className={styles.footer}>\n            <Button\n              label=\"Signup\"\n              className={`btn-yellow-gradation ${styles.btn}`}\n              onClick={this.onSignup}\n              isLoading={isLoading}\n            />\n            <Button\n              label=\"Login\"\n              className={`btn-orange-outline ${styles.btn}`}\n              onClick={() => history.push('/login')}\n              isLoading={isLoading}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst ConnectedSignup = props => (\n  <Connector>\n    {\n      ({ actions }) => (\n        <Signup\n          actions={actions.app}\n          {...props}\n        />\n      )\n    }\n  </Connector>\n)\n\nSignup.propTypes = {}\nSignup.defaultProps = {}\n\nexport default ConnectedSignup\n"]},"metadata":{},"sourceType":"module"}