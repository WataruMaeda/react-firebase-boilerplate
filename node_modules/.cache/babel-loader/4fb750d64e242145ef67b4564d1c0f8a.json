{"ast":null,"code":"import _defineProperty from \"/Users/wmaeda/Documents/me/Web/react-firebase-boilerplate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/wmaeda/Documents/me/Web/react-firebase-boilerplate/src/scenes/auth/Login/Login.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Input from '../../../components/Input';\nimport { styler, colors } from '../../../theme';\nimport { Button } from '../../../components/Button';\nimport Error from '../../../components/Error';\nimport { path } from '../../../utils/const';\nimport { validate, tests } from '../../../utils/vali';\nimport Connector from '../../../utils/connector';\nconst styles = styler({\n  root: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    background: colors.lightGrayPurple\n  },\n  contents: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '80%'\n  },\n  title: {\n    color: colors.purple,\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 60\n  },\n  forgot: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    marginBottom: 50\n  },\n  reset: {\n    fontSize: 16,\n    marginLeft: 5\n  },\n  btn: {\n    height: 50,\n    width: '45%',\n    fontSize: 16,\n    fontWeight: 'bold',\n    borderRadius: '5px !important',\n    '&::before': {\n      borderRadius: 5\n    },\n    '&:hover::before': {\n      borderRadius: 5\n    }\n  },\n  footer: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  }\n});\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      password: '',\n      errors: {},\n      resErr: null,\n      isLoading: false\n    };\n\n    this.handleInputChange = ({\n      target\n    }) => {\n      const name = target.name,\n            value = target.value;\n      const errors = this.state.errors;\n      this.setState({\n        [name]: value,\n        errors: _objectSpread({}, errors, {\n          [name]: ''\n        })\n      });\n    };\n\n    this.onLogin = () => {\n      // validation\n      const isLoading = this.state.isLoading;\n\n      const _validate = validate(this.state, tests),\n            isError = _validate.isError,\n            errors = _validate.errors;\n\n      this.setState({\n        errors\n      });\n      if (isError || isLoading) return; // login\n\n      this.setState({\n        isLoading: true\n      });\n      const actions = this.props.actions;\n      const _this$state = this.state,\n            email = _this$state.email,\n            password = _this$state.password;\n      actions.login(email, password).then(() => {\n        this.setState({\n          isLoading: false\n        });\n      }).catch(err => {\n        this.setState({\n          resErr: err.message,\n          isLoading: false\n        });\n      });\n    };\n  }\n\n  render() {\n    const history = this.props.history;\n    const _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          errors = _this$state2.errors,\n          resErr = _this$state2.resErr,\n          isLoading = _this$state2.isLoading;\n    return React.createElement(\"div\", {\n      className: styles.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Error, {\n      message: resErr,\n      onClose: () => {\n        this.setState({\n          resErr: null\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: styles.contents,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: styles.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Login\"), React.createElement(Input, {\n      type: \"email\",\n      name: \"email\",\n      value: email,\n      label: \"Email\",\n      placeholder: \"email@example.com\",\n      onChange: this.handleInputChange,\n      error: errors.email,\n      disabled: isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      label: \"Password\",\n      value: password,\n      placeholder: \"Your password is case sensitive\",\n      onChange: this.handleInputChange,\n      error: errors.password,\n      disabled: isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: styles.forgot,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/reset-password\",\n      className: styles.reset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Forgot Password?\")), React.createElement(\"div\", {\n      className: styles.footer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Button, {\n      label: \"Login\",\n      className: \"btn-purple-gradation \".concat(styles.btn),\n      onClick: this.onLogin,\n      isLoading: isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(Button, {\n      label: \"Signup\",\n      className: \"btn-purple-outline \".concat(styles.btn),\n      onClick: () => history.push(path.signup),\n      isLoading: isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst ConnectedLogin = props => React.createElement(Connector, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 156\n  },\n  __self: this\n}, ({\n  actions\n}) => React.createElement(Login, Object.assign({\n  actions: actions.app\n}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 159\n  },\n  __self: this\n})));\n\nLogin.propTypes = {};\nLogin.defaultProps = {};\nexport default ConnectedLogin;","map":{"version":3,"sources":["/Users/wmaeda/Documents/me/Web/react-firebase-boilerplate/src/scenes/auth/Login/Login.js"],"names":["React","Component","Link","Input","styler","colors","Button","Error","path","validate","tests","Connector","styles","root","flex","display","flexDirection","justifyContent","alignItems","background","lightGrayPurple","contents","width","title","color","purple","fontSize","fontWeight","marginBottom","forgot","reset","marginLeft","btn","height","borderRadius","footer","Login","state","email","password","errors","resErr","isLoading","handleInputChange","target","name","value","setState","onLogin","isError","actions","props","login","then","catch","err","message","render","history","push","signup","ConnectedLogin","app","propTypes","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport Input from '../../../components/Input'\nimport { styler, colors } from '../../../theme'\nimport { Button } from '../../../components/Button'\nimport Error from '../../../components/Error'\nimport { path } from '../../../utils/const'\nimport { validate, tests } from '../../../utils/vali'\nimport Connector from '../../../utils/connector'\n\nconst styles = styler({\n  root: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    background: colors.lightGrayPurple,\n  },\n  contents: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '80%',\n  },\n  title: {\n    color: colors.purple,\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 60,\n  },\n  forgot: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    marginBottom: 50,\n  },\n  reset: {\n    fontSize: 16,\n    marginLeft: 5,\n  },\n  btn: {\n    height: 50,\n    width: '45%',\n    fontSize: 16,\n    fontWeight: 'bold',\n    borderRadius: '5px !important',\n    '&::before': {\n      borderRadius: 5,\n    },\n    '&:hover::before': {\n      borderRadius: 5,\n    },\n  },\n  footer: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n})\n\nclass Login extends Component {\n  state = {\n    email: '',\n    password: '',\n    errors: {},\n    resErr: null,\n    isLoading: false,\n  }\n\n  handleInputChange = ({ target }) => {\n    const { name, value } = target\n    const { errors } = this.state\n\n    this.setState({\n      [name]: value,\n      errors: {\n        ...errors,\n        [name]: '',\n      },\n    })\n  }\n\n  onLogin = () => {\n    // validation\n    const { isLoading } = this.state\n    const { isError, errors } = validate(this.state, tests)\n    this.setState({ errors })\n    if (isError || isLoading) return\n\n    // login\n    this.setState({ isLoading: true })\n    const { actions } = this.props\n    const { email, password } = this.state\n    actions.login(email, password).then(() => {\n      this.setState({ isLoading: false })\n    }).catch(err => {\n      this.setState({ resErr: err.message, isLoading: false })\n    })\n  }\n\n  render() {\n    const { history } = this.props\n    const { email, password, errors, resErr, isLoading } = this.state\n    return (\n      <div className={styles.root}>\n        <Error\n          message={resErr}\n          onClose={() => {\n            this.setState({ resErr: null })\n          }}\n        />\n        <div className={styles.contents}>\n          <h3 className={styles.title}>Login</h3>\n          <Input  \n            type=\"email\"\n            name=\"email\"\n            value={email}\n            label=\"Email\"\n            placeholder=\"email@example.com\"\n            onChange={this.handleInputChange}\n            error={errors.email}\n            disabled={isLoading}\n          />\n          <Input\n            type=\"password\"\n            name=\"password\"\n            label=\"Password\"\n            value={password}\n            placeholder=\"Your password is case sensitive\"\n            onChange={this.handleInputChange}\n            error={errors.password}\n            disabled={isLoading}\n          />\n          <div className={styles.forgot}>\n            <Link to=\"/reset-password\" className={styles.reset}>Forgot Password?</Link>\n          </div>\n          <div className={styles.footer}>\n            <Button\n              label=\"Login\"\n              className={`btn-purple-gradation ${styles.btn}`}\n              onClick={this.onLogin}\n              isLoading={isLoading}\n            />\n            <Button\n              label=\"Signup\"\n              className={`btn-purple-outline ${styles.btn}`}\n              onClick={() => history.push(path.signup)}\n              isLoading={isLoading}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst ConnectedLogin = props => (\n  <Connector>\n    {\n      ({ actions }) => (\n        <Login\n          actions={actions.app}\n          {...props}\n        />\n      )\n    }\n  </Connector>\n)\n\nLogin.propTypes = {}\nLogin.defaultProps = {}\n\nexport default ConnectedLogin\n"]},"metadata":{},"sourceType":"module"}